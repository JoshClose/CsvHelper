<!DOCTYPE html><html lang="en-US"><head><link rel="preload" as="script" href="https://joshclose.github.io/CsvHelper/bootstrap.18f2d515.js"/><link rel="preload" as="script" href="https://joshclose.github.io/CsvHelper/templates/src/components/content.a5c1a482.js"/><link rel="preload" as="script" href="https://joshclose.github.io/CsvHelper/main.3bbedefe.js"/><link rel="preload" as="style" href="https://joshclose.github.io/CsvHelper/main.css"/><link rel="stylesheet" href="https://joshclose.github.io/CsvHelper/main.css"/><link rel="preload" as="style" href="https://joshclose.github.io/CsvHelper/styles.7ec999e0.css"/><link rel="stylesheet" href="https://joshclose.github.io/CsvHelper/styles.7ec999e0.css"/><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no"/></head><body><div id="root"><div class="layout" data-reactroot=""><a class="fork-me-on-github" href="https://github.com/joshclose/csvhelper" target="_blank"><img src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a><header class="header"><nav class="navbar is-light"><div class="container"><div class="navbar-brand"><a class="navbar-item active" aria-current="page" href="https://joshclose.github.io/CsvHelper/"><img src="https://joshclose.github.io/CsvHelper/images/logo-header.png" width="66" height="28"/></a><div class="navbar-burger burger"><span></span><span></span><span></span></div></div><div class="navbar-menu"><div class="navbar-start"><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="https://joshclose.github.io/CsvHelper/reading">Reading</a><div class="navbar-dropdown"><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/reading#getting-all-records">Getting All Records</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/reading#reading-records">Reading Records</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/reading#getting-a-single-record">Getting a Single Record</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/reading#getting-fields">Getting Fields</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/reading#malformed-field-fallback">Malformed Field Fallback</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/reading#reading-context">Reading Context</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/reading#configuration">Configuration</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="https://joshclose.github.io/CsvHelper/writing">Writing</a><div class="navbar-dropdown"><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/writing#writing-all-records">Writing All Records</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/writing#writing-a-single-record">Writing a Single Record</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/writing#writing-fields">Writing Fields</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/writing#ending-the-row">Ending the Row</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/writing#writing-context">Writing Context</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/writing#configuration">Configuration</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link active" aria-current="page" href="https://joshclose.github.io/CsvHelper/mapping">Mapping</a><div class="navbar-dropdown"><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/mapping#reference-mapping">Reference Mapping</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/mapping#auto-mapping">Auto Mapping</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/mapping#options">Options</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="https://joshclose.github.io/CsvHelper/configuration">Configuration</a><div class="navbar-dropdown"><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/configuration#malicious-injection-protection">Malicious Injection Protection</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/configuration#headers">Headers</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/configuration#mapping">Mapping</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/configuration#constructor-mapping">Constructor Mapping</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/configuration#error-handling">Error Handling</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/configuration#type-conversion">Type Conversion</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/configuration#reading">Reading</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/configuration#parsing">Parsing</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/configuration#writing">Writing</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/configuration#formatting">Formatting</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="https://joshclose.github.io/CsvHelper/type-conversion">Type Conversion</a><div class="navbar-dropdown"></div></div><div class="navbar-item has-dropdown is-hoverable"><div class="navbar-link">Misc</div><div class="navbar-dropdown"><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/examples">Examples</a><a class="navbar-item" href="https://joshclose.github.io/CsvHelper/change-log">Change Log</a></div></div></div></div></div></nav><div class="navbar"></div></header><div class="container"><div class="mapping"><h1 id="class-mapping" class="title is-1"><span>Class Mapping</span></h1><div class="columns"><div class="column"><p>Sometimes your class members and CSV headers don&#39;t match up. Sometimes your CSV files don&#39;t have a header row and you need to specify an index for a member <a href="https://blogs.msdn.microsoft.com/haibo_luo/2006/07/10/member-order-returned-by-getfields-getmethods/" target="_blank">because you can&#39;t rely on the ordering of class members in .NET</a>. For these situations you can create a class map that maps a class member to a CSV field using the configuration you specify.</p></div></div><div class="columns"><div class="column"><p>To create a mapping from a class to a CSV file, you use a <code>ClassMap</code>. You can map any public members (properties or fields).</p></div></div><div class="columns"><div class="column"><pre><code class="box cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyClassMap</span> : <span class="hljs-title">ClassMap</span>&lt;<span class="hljs-title">MyClass</span>&gt;
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyClassMap</span>(<span class="hljs-params"></span>)</span>
    {
        Map( m =&gt; m.Id );
        Map( m =&gt; m.Name );
    }
}</code></pre></div></div><div class="columns"><div class="column"><p>To use this mapping, you need to register the mapping in the configuration.</p></div></div><div class="columns"><div class="column"><pre><code class="box cs"><span class="hljs-keyword">var</span> csv = <span class="hljs-keyword">new</span> CsvReader( textReader );
csv.Configuration.RegisterClassMap&lt;MyClassMap&gt;();</code></pre></div></div><h2 id="reference-mapping" class="title is-2"><span>Reference Mapping</span></h2><hr/>

<div class="columns"><div class="column"><p>To map a reference member, just reference the member down the tree. You can reference as far down the tree as you need.</p></div></div><div class="columns"><div class="column"><pre><code class="box cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">A</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> B B { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">B</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> C C { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">C</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AMap</span> : <span class="hljs-title">ClassMap</span>&lt;<span class="hljs-title">A</span>&gt;
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">AMap</span>(<span class="hljs-params"></span>)</span>
    {
        Map( m =&gt; m.Id ).Name( <span class="hljs-string">"A"</span> );
        Map( m =&gt; m.B.Id ).Name( <span class="hljs-string">"B"</span> );
        Map( m =&gt; m.B.C.Id).Name( <span class="hljs-string">"C"</span> );
    }
}</code></pre></div></div><h2 id="auto-mapping" class="title is-2"><span>Auto Mapping</span></h2><hr/>

<div class="columns"><div class="column"><p>If you don&#39;t supply a mapping file and try to read or write, a mapping file is automatically created for you through auto mapping. Auto mapping will traverse the object graph and create member mappings for you using defaults. You can change some of these defaults through configuration. If a circular reference is detected, the auto mapper will stop traversing that tree node and continue with the next.</p></div></div><div class="columns"><div class="column"><p>You can also call <code>AutoMap</code> in your <code>ClassMap</code>. If you only have a few changes you want to make, you can use <code>AutoMap</code> to create the initial map, then make only the changes you want.</p></div></div><div class="columns"><div class="column"><pre><code class="box cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-keyword">public</span> DateTime CreatedDate { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyClassMap</span> : <span class="hljs-title">ClassMap</span>&lt;<span class="hljs-title">MyClass</span>&gt;
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyClassMap</span>(<span class="hljs-params"></span>)</span>
    {
        AutoMap();
        Map( m =&gt; m.CreatedDate ).Ignore();
    }
}</code></pre></div></div><h2 id="options" class="title is-2"><span>Options</span></h2><hr/>

<div class="columns"><div class="column"><p>You are able change the behavior of the member mapping through options.</p></div></div><h3 id="name" class="title is-3"><span>Name</span></h3><div class="columns"><div class="column"><p>Specifies the name of the field header. You can pass in multiple names if the field might have more than one name that is used for it when reading. All the names will be checked when looking for the field. When writing, only the first name is used.</p></div></div><div class="columns"><div class="column"><pre><code class="box cs"><span class="hljs-comment">// Single name</span>
Map( m =&gt; m.Id ).Name( <span class="hljs-string">"id"</span> );

<span class="hljs-comment">// Multiple possible names</span>
Map( m =&gt; m.Id ).Name( <span class="hljs-string">"id"</span>, <span class="hljs-string">"the_id"</span>, <span class="hljs-string">"Id"</span> );</code></pre></div></div><h3 id="nameindex" class="title is-3"><span>NameIndex</span></h3><div class="columns"><div class="column"><p>Specifies the zero-based index of the header name if the header name appears in more than one column.</p></div></div><div class="columns"><div class="column"><pre><code class="box cs"><span class="hljs-comment">// Example header</span>
id,name,id

<span class="hljs-comment">// Mapping</span>
Map( m =&gt; m.Id ).Name( <span class="hljs-string">"id"</span> ).NameIndex( <span class="hljs-number">1</span> );</code></pre></div></div><h3 id="index" class="title is-3"><span>Index</span></h3><div class="columns"><div class="column"><p>Specifies the zero-based index of the field. When reading this is used if there is no header. A name will override an index. When writing you can specify both so that the position of the column is guaranteed.</p></div></div><div class="columns"><div class="column"><pre><code class="box cs">Map( m =&gt; m.Id ).Index( <span class="hljs-number">0</span> );</code></pre></div></div><h3 id="default" class="title is-3"><span>Default</span></h3><div class="columns"><div class="column"><p>Specifies a default value when reading that will be used when a field is empty.</p></div></div><div class="columns"><div class="column"><pre><code class="box cs">Map( m =&gt; m.Name ).Default( <span class="hljs-string">"empty"</span> );</code></pre></div></div><h3 id="constant" class="title is-3"><span>Constant</span></h3><div class="columns"><div class="column"><p>Specifies a value that will be used as a constant for a field when reading and writing. This value will always be used regardless of other mapping configurations.</p></div></div><div class="columns"><div class="column"><pre><code class="box cs">Map( m =&gt; m.Name ).Constant( <span class="hljs-string">"never changes"</span> );</code></pre></div></div><h3 id="ignore" class="title is-3"><span>Ignore</span></h3><div class="columns"><div class="column"><p>Ignores the member when reading and writing. Note: If this member has already been mapped as a reference member, either by a class map, or by auto mapping, calling this method will not ignore all the child members down the tree that have already been mapped.</p></div></div><div class="columns"><div class="column"><pre><code class="box cs">Map( m =&gt; m.Name ).Ignore();</code></pre></div></div><h3 id="typeconverter" class="title is-3"><span>TypeConverter</span></h3><div class="columns"><div class="column"><p>Specifies the <code>ITypeConverter</code> that is used when converting the member to and from a CSV field.</p></div></div><div class="columns"><div class="column"><pre><code class="box cs">Map( m =&gt; m.Name ).TypeConverter( <span class="hljs-keyword">new</span> MyConverter() );
Map( m =&gt; m.Name ).TypeConverter&lt;MyConverter&gt;();</code></pre></div></div><h3 id="convertusing" class="title is-3"><span>ConvertUsing</span></h3><div class="columns"><div class="column"><p>Specifies an expression to be used to convert a field to a member, or a member to a field.</p></div></div><div class="columns"><div class="column"><p>Reading:</p></div></div><div class="columns"><div class="column"><pre><code class="box cs"><span class="hljs-comment">// Convert to member</span>
Map( m =&gt; m.Aggregate ).ConvertUsing( row =&gt; row.Get&lt;<span class="hljs-keyword">int</span>&gt;( <span class="hljs-string">"A"</span> ) + row.Get&lt;<span class="hljs-keyword">int</span>&gt;( <span class="hljs-string">"B"</span> ) );

<span class="hljs-comment">// Block</span>
Map( m =&gt; m.Aggregate ).ConvertUsing( row =&gt;
{
    <span class="hljs-keyword">var</span> a = row.Get&lt;<span class="hljs-keyword">int</span>&gt;( <span class="hljs-string">"A"</span> );
    <span class="hljs-keyword">var</span> b = row.Get&lt;<span class="hljs-keyword">int</span>&gt;( <span class="hljs-string">"B"</span> );
    <span class="hljs-keyword">return</span> a + b;
} );</code></pre></div></div><div class="columns"><div class="column"><p>Writing:</p></div></div><div class="columns"><div class="column"><pre><code class="box cs"><span class="hljs-comment">// Convert to field</span>
Map( m =&gt; m.Aggregate ).ConvertUsing( m =&gt; <span class="hljs-string">$"A + B = <span class="hljs-subst">{m.A + m.B}</span>"</span> );

<span class="hljs-comment">// Block</span>
Map( m =&gt; m.Aggregate ).ConvertUsing( m =&gt;
{
    <span class="hljs-keyword">var</span> field = <span class="hljs-string">"A + B = "</span>;
    field += ( m.A + m.B ).ToString();
    <span class="hljs-keyword">return</span> field;
} );</code></pre></div></div><h3 id="validate" class="title is-3"><span>Validate</span></h3><div class="columns"><div class="column"><p>Specifies an expression to be used to validate a field when reading. If the expression returns <code>false</code>, a <code>ValidationException</code> is thrown.</p></div></div><div class="columns"><div class="column"><pre><code class="box cs"><span class="hljs-comment">// Ensure field isn't blank.</span>
Map( m =&gt; m.Number ).Validate( field =&gt; !<span class="hljs-keyword">string</span>.IsNullOrEmpty( field ) );

<span class="hljs-comment">// Log error instead of throwing an exception.</span>
Map( m =&gt; m.Number ).Validate( field =&gt;
{
    <span class="hljs-keyword">var</span> isValid = !<span class="hljs-keyword">string</span>.IsNullOrEmpty( field );
    <span class="hljs-keyword">if</span>( !isValid )
    {
        logger.AppendLine( <span class="hljs-string">$"Field '<span class="hljs-subst">{field}</span>' is not valid!"</span> );
    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
} );</code></pre></div></div><br/>
</div></div></div></div><script type="text/javascript">window.__CSS_CHUNKS__ = {"main":"https://joshclose.github.io/CsvHelper/styles.7ec999e0.css"}</script><script type="text/javascript">
    window.__routeInfo = {"path":"mapping","templateID":0,"sharedPropsHashes":{},"localProps":null,"allProps":{"className":"mapping","data":"# Class Mapping\r\n\r\nSometimes your class members and CSV headers don't match up. Sometimes your CSV files don't have a header row and you need to specify an index for a member [because you can't rely on the ordering of class members in .NET](https://blogs.msdn.microsoft.com/haibo_luo/2006/07/10/member-order-returned-by-getfields-getmethods/). For these situations you can create a class map that maps a class member to a CSV field using the configuration you specify.\r\n\r\nTo create a mapping from a class to a CSV file, you use a `ClassMap`. You can map any public members (properties or fields).\r\n\r\n```cs\r\npublic class MyClass\r\n{\r\n\tpublic int Id { get; set; }\r\n\tpublic string Name { get; set; }\r\n}\r\n\r\npublic sealed class MyClassMap : ClassMap<MyClass>\r\n{\r\n\tpublic MyClassMap()\r\n\t{\r\n\t\tMap( m => m.Id );\r\n\t\tMap( m => m.Name );\r\n\t}\r\n}\r\n```\r\n\r\nTo use this mapping, you need to register the mapping in the configuration.\r\n\r\n```cs\r\nvar csv = new CsvReader( textReader );\r\ncsv.Configuration.RegisterClassMap<MyClassMap>();\r\n```\r\n\r\n## Reference Mapping\r\n\r\n<hr/>\r\n\r\nTo map a reference member, just reference the member down the tree. You can reference as far down the tree as you need.\r\n\r\n```cs\r\npublic class A\r\n{\r\n\tpublic int Id { get; set; }\r\n\tpublic B B { get; set; }\r\n}\r\n\r\npublic class B\r\n{\r\n\tpublic int Id { get; set; }\r\n\tpublic C C { get; set; }\r\n}\r\n\r\npublic class C\r\n{\r\n\tpublic int Id { get; set; }\r\n}\r\n\r\npublic sealed class AMap : ClassMap<A>\r\n{\r\n\tpublic AMap()\r\n\t{\r\n\t\tMap( m => m.Id ).Name( \"A\" );\r\n\t\tMap( m => m.B.Id ).Name( \"B\" );\r\n\t\tMap( m => m.B.C.Id).Name( \"C\" );\r\n\t}\r\n}\r\n```\r\n\r\n## Auto Mapping\r\n\r\n<hr/>\r\n\r\nIf you don't supply a mapping file and try to read or write, a mapping file is automatically created for you through auto mapping. Auto mapping will traverse the object graph and create member mappings for you using defaults. You can change some of these defaults through configuration. If a circular reference is detected, the auto mapper will stop traversing that tree node and continue with the next.\r\n\r\nYou can also call `AutoMap` in your `ClassMap`. If you only have a few changes you want to make, you can use `AutoMap` to create the initial map, then make only the changes you want.\r\n\r\n```cs\r\npublic class MyClass\r\n{\r\n\tpublic int Id { get; set; }\r\n\r\n\tpublic string Name { get; set; }\r\n\r\n\tpublic DateTime CreatedDate { get; set; }\r\n}\r\n\r\npublic sealed class MyClassMap : ClassMap<MyClass>\r\n{\r\n\tpublic MyClassMap()\r\n\t{\r\n\t\tAutoMap();\r\n\t\tMap( m => m.CreatedDate ).Ignore();\r\n\t}\r\n}\r\n```\r\n\r\n## Options\r\n\r\n<hr/>\r\n\r\nYou are able change the behavior of the member mapping through options.\r\n\r\n### Name\r\n\r\nSpecifies the name of the field header. You can pass in multiple names if the field might have more than one name that is used for it when reading. All the names will be checked when looking for the field. When writing, only the first name is used.\r\n\r\n```cs\r\n// Single name\r\nMap( m => m.Id ).Name( \"id\" );\r\n\r\n// Multiple possible names\r\nMap( m => m.Id ).Name( \"id\", \"the_id\", \"Id\" );\r\n```\r\n\r\n### NameIndex\r\n\r\nSpecifies the zero-based index of the header name if the header name appears in more than one column.\r\n\r\n```cs\r\n// Example header\r\nid,name,id\r\n\r\n// Mapping\r\nMap( m => m.Id ).Name( \"id\" ).NameIndex( 1 );\r\n```\r\n\r\n### Index\r\n\r\nSpecifies the zero-based index of the field. When reading this is used if there is no header. A name will override an index. When writing you can specify both so that the position of the column is guaranteed.\r\n\r\n```cs\r\nMap( m => m.Id ).Index( 0 );\r\n```\r\n\r\n### Default\r\n\r\nSpecifies a default value when reading that will be used when a field is empty.\r\n\r\n```cs\r\nMap( m => m.Name ).Default( \"empty\" );\r\n```\r\n\r\n### Constant\r\n\r\nSpecifies a value that will be used as a constant for a field when reading and writing. This value will always be used regardless of other mapping configurations.\r\n\r\n```cs\r\nMap( m => m.Name ).Constant( \"never changes\" );\r\n```\r\n\r\n### Ignore\r\n\r\nIgnores the member when reading and writing. Note: If this member has already been mapped as a reference member, either by a class map, or by auto mapping, calling this method will not ignore all the child members down the tree that have already been mapped.\r\n\r\n```cs\r\nMap( m => m.Name ).Ignore();\r\n```\r\n\r\n### TypeConverter\r\n\r\nSpecifies the `ITypeConverter` that is used when converting the member to and from a CSV field.\r\n\r\n```cs\r\nMap( m => m.Name ).TypeConverter( new MyConverter() );\r\nMap( m => m.Name ).TypeConverter<MyConverter>();\r\n```\r\n\r\n### ConvertUsing\r\n\r\nSpecifies an expression to be used to convert a field to a member, or a member to a field.\r\n\r\nReading:\r\n\r\n```cs\r\n// Convert to member\r\nMap( m => m.Aggregate ).ConvertUsing( row => row.Get<int>( \"A\" ) + row.Get<int>( \"B\" ) );\r\n\r\n// Block\r\nMap( m => m.Aggregate ).ConvertUsing( row =>\r\n{\r\n\tvar a = row.Get<int>( \"A\" );\r\n\tvar b = row.Get<int>( \"B\" );\r\n\treturn a + b;\r\n} );\r\n```\r\n\r\nWriting:\r\n\r\n```cs\r\n// Convert to field\r\nMap( m => m.Aggregate ).ConvertUsing( m => $\"A + B = {m.A + m.B}\" );\r\n\r\n// Block\r\nMap( m => m.Aggregate ).ConvertUsing( m =>\r\n{\r\n\tvar field = \"A + B = \";\r\n\tfield += ( m.A + m.B ).ToString();\r\n\treturn field;\r\n} );\r\n```\r\n\r\n### Validate\r\n\r\nSpecifies an expression to be used to validate a field when reading. If the expression returns `false`, a `ValidationException` is thrown.\r\n\r\n```cs\r\n// Ensure field isn't blank.\r\nMap( m => m.Number ).Validate( field => !string.IsNullOrEmpty( field ) );\r\n\r\n// Log error instead of throwing an exception.\r\nMap( m => m.Number ).Validate( field =>\r\n{\r\n\tvar isValid = !string.IsNullOrEmpty( field );\r\n\tif( !isValid )\r\n\t{\r\n\t\tlogger.AppendLine( $\"Field '{field}' is not valid!\" );\r\n\t}\r\n\r\n\treturn true;\r\n} );\r\n```\r\n\r\n<br/>\r\n"},"siteData":{}};</script><script defer="" type="text/javascript" src="https://joshclose.github.io/CsvHelper/bootstrap.18f2d515.js"></script><script defer="" type="text/javascript" src="https://joshclose.github.io/CsvHelper/templates/src/components/content.a5c1a482.js"></script><script defer="" type="text/javascript" src="https://joshclose.github.io/CsvHelper/main.3bbedefe.js"></script></body></html>