{"path":"examples/prerequisites/reading-writing-files","templateID":1,"sharedPropsHashes":{"toc":"Z21KXCh"},"localProps":{"className":"/reading-writing-files","data":"# Reading and Writing Files\r\n\r\nTo open a file for reading or writing, we can use `System.IO.File`.\r\n\r\n```cs\r\nusing (var stream = File.OpenRead(\"path\\\\to\\\\file.csv\"))\r\n{\r\n}\r\n\r\nusing (var stream = File.OpenWrite(\"path\\\\to\\\\file.csv\"))\r\n{\t\r\n}\r\n```\r\n\r\nThese both return a `FileStream` for working with our file. Since our data is text, we will need to use a `StreamReader` and `StreamWriter` to read and write the text.\r\n\r\n```cs\r\nusing (var stream = File.OpenRead(\"path\\\\to\\\\file.csv\"))\r\nusing (var reader = new StreamReader(stream))\r\n{\r\n}\r\n\r\nusing (var stream = File.OpenWrite(\"path\\\\to\\\\file.csv\"))\r\nusing (var writer = new StreamWriter(stream))\r\n{\t\r\n}\r\n```\r\n\r\n`StreamReader` and `StreamWriter` have shortcuts for doing this.\r\n\r\n```cs\r\nusing (var reader = new StreamReader(\"path\\\\to\\\\file.csv\"))\r\n{\r\n}\r\n\r\nusing (var writer = new StreamWriter(\"path\\\\to\\\\file.csv\"))\r\n{\t\r\n}\r\n```\r\n\r\nCsvHelper doesn't know anything about your encoding, so if you have a specific encoding, you'll need to specify that in your stream.\r\n\r\n```cs\r\nusing (var reader = new StreamReader(\"path\\\\to\\\\file.csv\"), Encoding.UTF8)\r\n{\r\n}\r\n\r\nusing (var writer = new StreamWriter(\"path\\\\to\\\\file.csv\"), Encoding.UTF8)\r\n{\t\r\n}\r\n```\r\n\r\n`CsvReader` and `CsvWriter` take a `TextReader` and `TextWriter` in their constructors. `TextReader` and `TextWriter` are `abstract` classes for reading and writing text. `StreamReader` inherits `TextReader` and `StreamWriter` inherits `TextWriter`, so we can use those with `CsvReader` and `CsvWriter`.\r\n\r\n```cs\r\nusing (var reader = new StreamReader(\"path\\\\to\\\\file.csv\"))\r\nusing (var csv = new CsvReader(reader))\r\n{\r\n}\r\n\r\nusing (var writer = new StreamWriter(\"path\\\\to\\\\file.csv\"))\r\nusing (var csv = new CsvWriter(writer))\r\n{\t\r\n}\r\n```\r\n"}}
